% Making Stims for EEG expereiment

clear
clc
path = '../CommonExperiment';
addpath(genpath(path));
addpath('StimDev')

fs = 48828;
center_f = 4000;
ERB_halfwidth = 0.5;
ERBspacing = 1.5;
noise_bands = CMRbands(center_f, ERB_halfwidth, ERBspacing);
mod_band = [2,10];
mod_bpfo = 1/2*5*fs;
t_coh = 1;
t_incoh = 1;


Stim_10 = cell(1,300);
mods_10 = cell(1,300);
for i =1:300
    fprintf('Sec 1 Trial %d/300 \n',i);
    [Sig,mods] = Noise_coherenceABAB(noise_bands,mod_band,mod_bpfo,t_coh,t_incoh,fs);
    Stim_10(i,:) = Sig;
    mods_10{i} = mods;
end

mod_band = [36 44];
for i =1:300
    fprintf('Sec 2 Trial %d/300 \n',i);
    [Sig,mods] = Noise_coherenceABAB(noise_bands,mod_band,mod_bpfo,t_coh,t_incoh,fs);
    






